<div class="classroom-container" data-controller="owl">
  <!-- 🌳 森の背景 -->
  <img src="<%= asset_path('tisikinomori.png') %>"
      alt="森の背景"
      class="forest-bg"
      data-owl-target="forest"
      data-autumn-image="<%= asset_path('tisikinomori_aki.png') %>">

  <!-- 🎓 黒板 -->
  <div class="blackboard" data-owl-target="blackboard">
    <button class="chalk-text-button"
            data-owl-target="click"
            data-action="click->owl#enterForest">
      <span class="typing-text" data-owl-target="typingText"></span>
    </button>
  </div>

  <!-- 🦉 フクちゃん：黒板外に独立 -->
  <img src="<%= asset_path('fukuchan.png') %>"
      alt="フクちゃん"
      class="fukuchan-global"
      data-owl-target="fukuchan"
      data-happy-image="<%= asset_path('fukuchan-happy.png') %>"
      data-normal-image="<%= asset_path('fukuchan.png') %>">

<!-- リアルタイム時計 -->
<div data-controller="clock">
  <div id="current-time" class="clock-display" data-clock-target="display"></div>
</div>

<!-- BGMコントロール -->
<div class="bgm-controls"
    data-controller="bgm"
    data-bgm-path="<%= asset_path('forest_ambient.mp3') %>">
  <button data-bgm-target="toggleButton"
          data-action="click->bgm#toggle"
          class="bgm-btn">
    森のBGM
  </button>
  <input type="range"
        data-bgm-target="volumeSlider"
        data-action="input->bgm#adjustVolume"
        min="0" max="1" step="0.1" value="0.3"
        class="volume-slider">
</div>

<!-- プロフィール一覧エリア -->
<div class="owls-container" style="display: none;">
  <% @owls.each_with_index do |owl, index| %>
    <div class="owl-card"
        data-owl-target="owlCard"
        data-owl-index="<%= index %>"
        data-action="mouseenter->owl#hoverOwl mouseleave->owl#leaveOwl">
      <h2><%= owl.name %></h2>
      <p><strong>種類:</strong> <%= owl.species %></p>
      <p><strong>年齢:</strong> <%= owl.age %>歳</p>
      <p><strong>住んでいる場所:</strong> <%= owl.habitat %></p>

      <div>
        <strong>自己紹介</strong>
        <p style="margin: 4px 0;">プログラミング学習の新しい味方😄</p>
        <p style="margin: 4px 0;">知っていると便利な情報やアドバイスをくれるよ✨</p>
        <p style="margin: 4px 0 0 0;">みんなの学習を楽しくサポートします!!</p>
      </div>

      <div class="owl-message" data-owl-target="owlMessage" data-owl-index="<%= index %>">
        <div class="message-line"
            data-owl-target="typingText"
            data-message="<%= "こんにちは！僕は梟🦉の#{owl.name}" %>"></div>
        <div class="message-line"
            data-owl-target="typingText"
            data-message="沢山の人を笑顔にするのが仕事だホウ〜☆彡"></div>
      </div>

      <%= link_to "詳しく見る", owl_path(owl), class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
