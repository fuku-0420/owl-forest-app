# =========================================================
# Owlï¼ˆãƒ•ã‚¯ã¡ã‚ƒã‚“ï¼‰
# =========================================================
Owl.find_or_initialize_by(name: "ãƒ•ã‚¯ã¡ã‚ƒã‚“").tap do |owl|
  owl.species     = "å­¦ç¿’ã‚µãƒãƒ¼ãƒˆãƒ•ã‚¯ãƒ­ã‚¦"
  owl.age         = 26
  owl.habitat     = "RUNTEQ çŸ¥è­˜ã®æ£®"
  owl.description = "å­¦ç¿’è€…ã«å¯„ã‚Šæ·»ã„ã€ã¤ã¾ãšãã‚’ã‚„ã•ã—ãæ¡ˆå†…ã—ã¦ãã‚Œã‚‹ãƒ•ã‚¯ãƒ­ã‚¦"
  owl.save!
end

# =========================================================
# Categoryï¼ˆé»’æ¿ï¼‰
# =========================================================
categories = {
  "ã‚¨ãƒ©ãƒ¼"   => "ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦",
  "Rails"    => "Railsã§è©°ã¾ã‚Šã‚„ã™ã„ç‚¹",
  "SQL"      => "DB/SQLã®ã¤ã¾ãšã",
  "è¨­è¨ˆ"     => "è²¬å‹™åˆ†å‰²ãƒ»è¨­è¨ˆã®æ‚©ã¿",
  "å­¦ç¿’æ³•"   => "å­¦ã³æ–¹ãƒ»é€²ã‚æ–¹",
  "ãƒ¢ãƒãƒ™"   => "ä¸å®‰ãƒ»ã‚„ã‚‹æ°—ãƒ»ç¶™ç¶š"
}

categories.each do |name, desc|
  Category.find_or_initialize_by(name: name).tap do |c|
    c.description = desc
    c.save!
  end
end

# =========================================================
# Category å‚ç…§
# =========================================================
error  = Category.find_by!(name: "ã‚¨ãƒ©ãƒ¼")
rails  = Category.find_by!(name: "Rails")
sql    = Category.find_by!(name: "SQL")
design = Category.find_by!(name: "è¨­è¨ˆ")
study  = Category.find_by!(name: "å­¦ç¿’æ³•")
motiva = Category.find_by!(name: "ãƒ¢ãƒãƒ™")

# =========================================================
# Advice å®šç¾©ï¼ˆã“ã“ãŒâ€œè‚²ã¦ã‚‹æœ¬ä½“â€ï¼‰
# title ã¯å›ºå®šã‚­ãƒ¼æ‰±ã„ï¼ˆä»Šã¯ï¼‰
# =========================================================
advices = [
  {
    category: error,
    title: "ãƒ–ãƒ©ãƒ³ãƒã§è©°ã¾ã£ãŸã¨ã",
    body: <<~TEXT
      ç¾åœ¨ã®ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã§ä¿®æ­£ã§ããªã‹ã£ãŸå ´åˆã¯ã€
      æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã£ã¦ãƒªãƒ¢ãƒ¼ãƒˆã‹ã‚‰å‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã¨ã„ã„ã‚ˆã€‚

      å¤§åˆ‡ãªã®ã¯ã€èª²é¡Œã‚’è¦‹ç›´ã—ã¦ã‹ã‚‰
      ã€Œä½•ãŒåŸå› ã ã£ãŸã‹ã€ã‚’ç†è§£ã™ã‚‹ã“ã¨ã€‚

      å¤±æ•—ã—ãŸãƒ–ãƒ©ãƒ³ãƒã¨æ¯”è¼ƒã™ã‚‹ã¨ã€
      ã‚¨ãƒ©ãƒ¼ã®æ­£ä½“ãŒè¦‹ãˆã‚„ã™ã„ã€‚
      ç„¦ã‚‰ãšã€ã²ã¨ã¤ãšã¤è¡Œã“ã†ã€‚
    TEXT
  },
  {
    category: error,
    title: "NoMethodError ãŒå‡ºãŸã¨ã",
    body: <<~TEXT
      NoMethodError ã¯ã€Œãã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¹ãªã„ã€ã¨ã„ã†æ„å‘³ã€‚

      ã¾ãšã¯ãƒ­ã‚°ã«å‡ºã¦ã„ã‚‹è¡Œã§ã€
      ãƒ»nil ã«ãªã£ã¦ã„ãªã„ã‹
      ãƒ»å‹ãŒæƒ³å®šã¨é•ã£ã¦ã„ãªã„ã‹
      ã‚’ç¢ºèªã—ã‚ˆã†ã€‚

      puts / debugger / binding.irb ã§
      ä¸­èº«ã‚’è¦‹ã‚‹ã®ãŒæœ€çŸ­ãƒ«ãƒ¼ãƒˆã€‚
    TEXT
  },
  {
    category: rails,
    title: "assetsãŒåæ˜ ã•ã‚Œãªã„ã¨ã",
    body: <<~TEXT
      public/assets ã«å¤ã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ®‹ã£ã¦ã„ãªã„ã‹ç¢ºèªã—ã‚ˆã†ã€‚

      æœ¬ç•ªç”¨ã‚¢ã‚»ãƒƒãƒˆãŒåŸå› ã§ã€
      JSã‚„CSSãŒåæ˜ ã•ã‚Œãªã„ã“ã¨ãŒã‚ã‚‹ã€‚

      ä¸€åº¦å‰Šé™¤ã—ã¦å†èµ·å‹•ã™ã‚‹ã¨
      è§£æ±ºã™ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚å¤šã„ã‚ˆã€‚
    TEXT
  },
  {
    category: sql,
    title: "where ã¨ find ã®é•ã„",
    body: <<~TEXT
      find ã¯ã€Œidã§1ä»¶å–å¾—ã€ãŒå‰æã§ã€
      è¦‹ã¤ã‹ã‚‰ãªã„ã¨ä¾‹å¤–ãŒç™ºç”Ÿã™ã‚‹ã€‚

      where ã¯æ¡ä»¶æ¤œç´¢ã§ã€
      çµæœã¯é…åˆ—ï¼ˆRelationï¼‰ã¨ã—ã¦è¿”ã‚‹ã€‚

      è¿·ã£ãŸã‚‰ï¼š
      ãƒ»1ä»¶ç¢ºå®š â†’ find / find_by
      ãƒ»æ¡ä»¶æ¤œç´¢ â†’ where
    TEXT
  },
  {
    category: design,
    title: "è²¬å‹™åˆ†å‰²ã§è¿·ã£ãŸã¨ã",
    body: <<~TEXT
      1ã¤ã®ã‚¯ãƒ©ã‚¹ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ãŒ
      ã€Œã‚„ã‚‹ã“ã¨å¤šã™ãã€ã ã¨æ„Ÿã˜ãŸã‚‰åˆ†å‰²ã®ã‚µã‚¤ãƒ³ã€‚

      åå‰ãŒ and ã§ç¹‹ãŒã‚‹çŠ¶æ…‹ã¯è¦æ³¨æ„ã€‚
      ã¾ãšã¯ãƒ¡ã‚½ãƒƒãƒ‰æŠ½å‡ºã‹ã‚‰å§‹ã‚ã‚ˆã†ã€‚
    TEXT
  },
  {
    category: study,
    title: "ç†è§£ãŒæµ…ã„ã¾ã¾é€²ã‚“ã§OK",
    body: <<~TEXT
      å…¨éƒ¨ç†è§£ã—ã¦ã‹ã‚‰é€²ã‚€ã®ã¯é›£ã—ã„ã—ã€
      æ™‚é–“ã‚‚æº¶ã‘ã‚„ã™ã„ã€‚

      ã¾ãšå‹•ã‹ã—ã¦ã€
      ã‚ã¨ã§ã€Œãªãœå‹•ã„ãŸã‹ã€ã‚’å›åã™ã‚Œã°OKã€‚

      â€œä»Šã¯ä»®ã§ã„ã„â€ ã‚’è‡ªåˆ†ã«è¨±ãã†ã€‚
    TEXT
  },
  {
    category: motiva,
    title: "ã‚„ã‚‹æ°—ãŒå‡ºãªã„æ—¥ã¯",
    body: <<~TEXT
      ã‚„ã‚‹æ°—ãŒå‡ºãªã„æ—¥ã¯
      ä½œæ¥­ã‚’ã¨ã«ã‹ãå°ã•ãã—ã‚ˆã†ã€‚

      ãƒ»5åˆ†ã ã‘è§¦ã‚‹
      ãƒ»1è¡Œã ã‘æ›¸ã
      ãƒ»1ã‚³ãƒŸãƒƒãƒˆã ã‘ã™ã‚‹

      0 â†’ 1 ãŒä½œã‚ŒãŸã‚‰å‹ã¡ã€‚
    TEXT
  }
]

# =========================================================
# Advice åæ˜ ï¼ˆä½œæˆ or æ›´æ–°ï¼‰
# =========================================================
advices.each do |data|
  Advice.find_or_initialize_by(
    category: data[:category],
    title: data[:title]
  ).tap do |a|
    a.body = data[:body]
    a.save!
  end
end

puts "ğŸŒ± seeds.rb completed: Advice & Category updated"
