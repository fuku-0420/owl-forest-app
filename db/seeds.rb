# frozen_string_literal: true

puts "ğŸŒ± Seeding start..."

ActiveRecord::Base.transaction do
  # =========================================================
  # Owlï¼ˆãƒ•ã‚¯ã¡ã‚ƒã‚“ï¼‰
  # =========================================================
  Owl.find_or_initialize_by(name: "ãƒ•ã‚¯ã¡ã‚ƒã‚“").tap do |owl|
    owl.species     = "å­¦ç¿’ã‚µãƒãƒ¼ãƒˆãƒ•ã‚¯ãƒ­ã‚¦"
    owl.age         = 28
    owl.habitat     = "çŸ¥è­˜ã®æ£®"
    owl.description = "å­¦ç¿’è€…ã«å¯„ã‚Šæ·»ã„ã€ã¤ã¾ãšãã‚’ã‚„ã•ã—ãæ¡ˆå†…ã—ã¦ãã‚Œã‚‹ãƒ•ã‚¯ãƒ­ã‚¦"
    owl.save!
  end

  # =========================================================
  # Categoryï¼ˆé»’æ¿ï¼‰
  # =========================================================
  categories = {
    "ã‚¨ãƒ©ãƒ¼"       => "ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦",
    "Rails"        => "Railsã§è©°ã¾ã‚Šã‚„ã™ã„ç‚¹",
    "SQL"          => "DB/SQLã®ã¤ã¾ãšã",
    "è¨­è¨ˆ"         => "è²¬å‹™åˆ†å‰²ãƒ»è¨­è¨ˆã®æ‚©ã¿",
    "å­¦ç¿’"         => "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ /ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯/DBãªã©å­¦ç¿’å†…å®¹",
    "é–‹ç™º"         => "é–‹ç™ºä½œæ¥­ãƒ»é‹ç”¨ã§ä½¿ã†çŸ¥è­˜",
    "ãƒ¢ãƒãƒ™"       => "ä¸å®‰ãƒ»ã‚„ã‚‹æ°—ãƒ»ç¶™ç¶š"
  }

  categories.each do |name, desc|
    Category.find_or_initialize_by(name: name).tap do |c|
      c.description = desc
      c.save!
    end
  end

  # =========================================================
  # Category å‚ç…§
  # =========================================================
  error        = Category.find_by!(name: "ã‚¨ãƒ©ãƒ¼")
  rails        = Category.find_by!(name: "Rails")
  sql          = Category.find_by!(name: "SQL")
  design       = Category.find_by!(name: "è¨­è¨ˆ")
  study        = Category.find_by!(name: "å­¦ç¿’")
  dev          = Category.find_by!(name: "é–‹ç™º")
  motiva       = Category.find_by!(name: "ãƒ¢ãƒãƒ™")

  # =========================================================
  # Advice å®šç¾©ï¼ˆseedç®¡ç†ï¼šseed_key ã‚’å›ºå®šã§æŒã¤ï¼‰
  # =========================================================
  advices = [
    # -------------------------
    # ã‚¨ãƒ©ãƒ¼
    # -------------------------
    {
      seed_key: "error.branch_stuck",
      category: error,
      title: "ãƒ–ãƒ©ãƒ³ãƒã§è©°ã¾ã£ãŸã¨ã",
      body: <<~TEXT
        ç¾åœ¨ã®ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã§ä¿®æ­£ã§ããªã‹ã£ãŸå ´åˆã¯ã€
        æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã£ã¦ãƒªãƒ¢ãƒ¼ãƒˆã‹ã‚‰å‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã¨ã„ã„ã‚ˆã€‚

        å¤§åˆ‡ãªã®ã¯ã€èª²é¡Œã‚’è¦‹ç›´ã—ã¦ã‹ã‚‰
        ã€Œä½•ãŒåŸå› ã ã£ãŸã‹ã€ã‚’ç†è§£ã™ã‚‹ã“ã¨ã€‚

        å¤±æ•—ã—ãŸãƒ–ãƒ©ãƒ³ãƒã¨æ¯”è¼ƒã™ã‚‹ã¨ã€
        ã‚¨ãƒ©ãƒ¼ã®æ­£ä½“ãŒè¦‹ãˆã‚„ã™ã„ã€‚
        ç„¦ã‚‰ãšã€ã²ã¨ã¤ãšã¤è¡Œã“ã†ã€‚
      TEXT
    },
    {
      seed_key: "error.no_method_error",
      category: error,
      title: "NoMethodError ãŒå‡ºãŸã¨ã",
      body: <<~TEXT
        NoMethodError ã¯ã€Œãã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¹ãªã„ã€ã¨ã„ã†æ„å‘³ã€‚

        ã¾ãšã¯ãƒ­ã‚°ã«å‡ºã¦ã„ã‚‹è¡Œã§ã€
        ãƒ»nil ã«ãªã£ã¦ã„ãªã„ã‹
        ãƒ»å‹ãŒæƒ³å®šã¨é•ã£ã¦ã„ãªã„ã‹
        ã‚’ç¢ºèªã—ã‚ˆã†ã€‚

        puts / debugger / binding.irb ã§
        ä¸­èº«ã‚’è¦‹ã‚‹ã®ãŒæœ€çŸ­ãƒ«ãƒ¼ãƒˆã€‚
      TEXT
    },

    # -------------------------
    # Rails
    # -------------------------
    {
      seed_key: "rails.assets_not_reflected",
      category: rails,
      title: "assets ãŒåæ˜ ã•ã‚Œãªã„",
      body: <<~TEXT
        public/assets ã«å¤ã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ®‹ã£ã¦ã„ãªã„ã‹ç¢ºèªã—ã‚ˆã†ã€‚

        æœ¬ç•ªç”¨ã‚¢ã‚»ãƒƒãƒˆãŒåŸå› ã§ã€
        JSã‚„CSSãŒåæ˜ ã•ã‚Œãªã„ã“ã¨ãŒã‚ã‚‹ã€‚

        ä¸€åº¦å‰Šé™¤ã—ã¦å†èµ·å‹•ã™ã‚‹ã¨
        è§£æ±ºã™ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚å¤šã„ã‚ˆã€‚
      TEXT
    },

    # -------------------------
    # SQL
    # -------------------------
    {
      seed_key: "sql.where_vs_find",
      category: sql,
      title: "where ã¨ find ã®é•ã„",
      body: <<~TEXT
        find ã¯ã€Œidã§1ä»¶å–å¾—ã€ãŒå‰æã§ã€
        è¦‹ã¤ã‹ã‚‰ãªã„ã¨ä¾‹å¤–ãŒç™ºç”Ÿã™ã‚‹ã€‚

        where ã¯æ¡ä»¶æ¤œç´¢ã§ã€
        çµæœã¯é…åˆ—ï¼ˆRelationï¼‰ã¨ã—ã¦è¿”ã‚‹ã€‚

        è¿·ã£ãŸã‚‰ï¼š
        ãƒ»1ä»¶ç¢ºå®š â†’ find / find_by
        ãƒ»æ¡ä»¶æ¤œç´¢ â†’ where
      TEXT
    },

    # -------------------------
    # è¨­è¨ˆ
    # -------------------------
    {
      seed_key: "design.responsibility_split",
      category: design,
      title: "è²¬å‹™åˆ†å‰²ã§è¿·ã£ãŸã‚‰",
      body: <<~TEXT
        1ã¤ã®ã‚¯ãƒ©ã‚¹ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ãŒ
        ã€Œã‚„ã‚‹ã“ã¨å¤šã™ãã€ã ã¨æ„Ÿã˜ãŸã‚‰åˆ†å‰²ã®ã‚µã‚¤ãƒ³ã€‚

        åå‰ãŒ and ã§ç¹‹ãŒã‚‹çŠ¶æ…‹ã¯è¦æ³¨æ„ã€‚
        ã¾ãšã¯ãƒ¡ã‚½ãƒƒãƒ‰æŠ½å‡ºã‹ã‚‰å§‹ã‚ã‚ˆã†ã€‚
      TEXT
    },

    # -------------------------
    # å­¦ç¿’ï¼ˆå†…å®¹ï¼‰
    # -------------------------
    {
      seed_key: "study.algorithm",
      category: study,
      title: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã¯ï¼Ÿ",
      body: <<~TEXT
        ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã¯
        å‡¦ç†ã‚’ã€Œãã®ã¾ã¾å®Ÿè¡Œã§ãã‚‹å½¢ã€ã¾ã§å…·ä½“åŒ–ã—ãŸæ‰‹é †ã®ã“ã¨ã€‚

        ã‚„ã‚ŠãŸã„ã“ã¨ã‚„ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæµ®ã‹ã¶ã ã‘ã§ã¯ã€
        ã¾ã ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã—ã¦ã¯è¶³ã‚Šãªã„ã€‚

        æœ€ä½é™ã€æ¬¡ã®3ã¤ãŒæ±ºã¾ã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
        ãƒ»é †ç•ªï¼ˆä½•ã‚’å…ˆã«ã‚„ã‚‹ã‹ï¼‰
        ãƒ»æ¡ä»¶ï¼ˆã„ã¤åˆ†ã‹ã‚Œã‚‹ã‹ï¼‰
        ãƒ»çµ‚äº†ï¼ˆã©ã“ã§çµ‚ã‚ã‚‹ã‹ï¼‰

        ãŸã¨ãˆã°ã€Œã‚«ãƒ¬ãƒ¼ã‚’ä½œã‚ŠãŸã„ã€ã¯ç›®çš„ã€‚
        ã€Œé‡èœã‚’åˆ‡ã£ã¦ç…®ã‚‹ã€ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚

        ã§ã‚‚ã€é †ç•ªãƒ»æ™‚é–“ãƒ»å®Œæˆæ¡ä»¶ãŒæ±ºã¾ã£ã¦ã„ãªã„ã¨
        å®Ÿè¡Œã§ãã‚‹ãƒ¬ã‚·ãƒ”ã«ãªã‚‰ãªã„ã€‚

        ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã€å®Ÿè¡Œã§ãã‚‹æ‰‹é †ã«è½ã¨ã™ã€‚
        ãã‚ŒãŒã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚
      TEXT
    },
    {
      seed_key: "study.bubble_sort",
      category: study,
      title: "ãƒãƒ–ãƒ«ã‚½ãƒ¼ãƒˆ",
      body: <<~TEXT
        ãƒãƒ–ãƒ«ã‚½ãƒ¼ãƒˆã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦ã³æ›¿ãˆã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ä¸€ã¤ã€‚

        ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§ã€
        éš£åŒå£«ã®è¦ç´ ã‚’æ¯”ã¹ã¦ã€é †ç•ªãŒé€†ãªã‚‰å…¥ã‚Œæ›¿ãˆã‚‹ã€‚
        ã“ã‚Œã‚’ä½•å›ã‹ãã‚Šè¿”ã™ã€‚

        é‡è¦ãªã®ã¯ã€Œ1å›ã®ãƒ«ãƒ¼ãƒ—ã§ä½•ãŒèµ·ãã‚‹ã‹ã€ã€‚
        1å‘¨ã™ã‚‹ã¨ã€ä¸€ç•ªå¤§ãã„å€¤ãŒå³ç«¯ã¸é€ã‚‰ã‚Œã‚‹ã€‚

        å³ç«¯ãŒç¢ºå®šã—ãŸã‚‰ã€æ¬¡ã¯ãã®æ‰‹å‰ã¾ã§ã€‚
        ç¢ºå®šæ¸ˆã¿ã®ç¯„å›²ãŒå°‘ã—ãšã¤åºƒãŒã£ã¦ã„ãã€‚

        ç‰¹å¾´ã¾ã¨ã‚ï¼š
        ãƒ»éš£åŒå£«ã‚’æ¯”ã¹ã‚‹
        ãƒ»æ¯”ã¹ã‚‹ãŸã³ã«äº¤æ›ã™ã‚‹
        ãƒ»å¤§ãã„å€¤ã‚’å¾Œã‚ã«é€ã‚‹
      TEXT
    },
    {
      seed_key: "study.selection_sort",
      category: study,
      title: "é¸æŠã‚½ãƒ¼ãƒˆ",
      body: <<~TEXT
        é¸æŠã‚½ãƒ¼ãƒˆã¯ã€
        æ®‹ã£ã¦ã„ã‚‹ä¸­ã‹ã‚‰ä¸€ç•ªå°ã•ã„å€¤ã‚’é¸ã‚“ã§ã€å‰ã«ç½®ãä¸¦ã³æ›¿ãˆã€‚

        ã‚„ã£ã¦ã„ã‚‹ã“ã¨ï¼š
        ãƒ»å·¦ã‹ã‚‰é †ã«ã€ä½ç½®ã‚’1ã¤ãšã¤ç¢ºå®šã•ã›ã‚‹
        ãƒ»å³å´ã‚’æœ€å¾Œã¾ã§èª¿ã¹ã‚‹ï¼ˆæœ€å°å€¤ã®ä½ç½®ã‚’æ¢ã™ï¼‰
        ãƒ»æœ€å¾Œã«1å›ã ã‘äº¤æ›ã™ã‚‹
        ãƒ»é€”ä¸­ã§ã¯äº¤æ›ã—ãªã„

        ç‰¹å¾´ã¾ã¨ã‚ï¼š
        ãƒ»æœ€å¾Œã¾ã§æ¢ã™
        ãƒ»äº¤æ›ã¯1å›ã ã‘
        ãƒ»å°ã•ã„å€¤ã‚’å‰ã«ç½®ã

        è¦šãˆæ–¹ï¼š
        ã€Œæ¢ã—åˆ‡ã£ã¦ã‹ã‚‰ã€å…¥ã‚Œæ›¿ãˆã‚‹ã€
      TEXT
    },
    {
      seed_key: "study.flowchart_reading",
      category: study,
      title: "ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã®èª­ã¿æ–¹",
      body: <<~TEXT
        ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã¯ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å›³ã§è¡¨ã—ãŸã‚‚ã®ã€‚
        ä¸­èº«ã§ã¯ãªãã€Œãƒ«ãƒ¼ãƒ—ã‚„åˆ†å²ã®æ§‹é€ ã€ã‚’è¦‹ãˆã‚‹åŒ–ã—ã¦ã„ã‚‹ã€‚

        èª­ã‚€ãƒã‚¤ãƒ³ãƒˆã¯ã€è¨˜å·ã‚„æ•°å­—ã‚’ç´°ã‹ãè¿½ã†ã‚ˆã‚Šã‚‚ã€
        ã¾ãšâ€œæµã‚Œâ€ã‚’è¦‹ã‚‹ã“ã¨ã€‚

        ãƒ»ã©ã“ã‹ã‚‰å§‹ã¾ã£ã¦ã„ã‚‹ã‹
        ãƒ»ã©ã“ã‚’ãã‚Šè¿”ã—ã¦ã„ã‚‹ã‹
        ãƒ»ã©ã“ã§çµ‚ã‚ã‚‹ã‹

        ã‚½ãƒ¼ãƒˆç³»ã§ã‚ˆãå‡ºã‚‹è¦‹æ–¹ï¼š
        ãƒ»å¤–å´ãƒ«ãƒ¼ãƒ—ï¼šä½ç½®ï¼ˆç¢ºå®šç¯„å›²ï¼‰ã‚’é€²ã‚ã‚‹
        ãƒ»å†…å´ãƒ«ãƒ¼ãƒ—ï¼šæ¯”è¼ƒãƒ»æ¢ç´¢ã‚’ã™ã‚‹

        ã€Œä»Šã€ç¢ºå®šã—ã¦ã„ã‚‹å ´æ‰€ã¯ã©ã“ï¼Ÿã€
        ã€Œä»Šã€æ¢ã—ã¦ã„ã‚‹ç¯„å›²ã¯ã©ã“ï¼Ÿã€
        ã“ã‚ŒãŒè¨€è‘‰ã§è¿½ãˆã‚‹ã¨ã€ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆãŒæ€¥ã«èª­ã‚ã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚
      TEXT
    },

    # -------------------------
    # å­¦ç¿’ï¼ˆé–‹ç™ºã‚³ãƒãƒ³ãƒ‰ï¼‰
    # -------------------------
    {
      seed_key: "dev.git_checkout_switch",
      category: dev,
      title: "ãƒ–ãƒ©ãƒ³ãƒåˆ‡æ›¿ã‚³ãƒãƒ³ãƒ‰ã®é•ã„",
      body: <<~TEXT
        çµè«–ï¼šãƒ–ãƒ©ãƒ³ãƒæ“ä½œãªã‚‰ã€ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯ã»ã¼åŒã˜ã€‚
        ãŸã ã—ã€Œåˆ†ã‹ã‚Šã‚„ã™ã•ã€ãŒé•ã†ã€‚

        â–¼ ãƒ–ãƒ©ãƒ³ãƒä½œæˆã—ã¦åˆ‡ã‚Šæ›¿ãˆ
        æ–°ã—ã„æ›¸ãæ–¹ï¼ˆãƒ–ãƒ©ãƒ³ãƒå°‚ç”¨ã§åˆ†ã‹ã‚Šã‚„ã™ã„ï¼‰
          git switch -c feature/xxx

        æ˜”ã‹ã‚‰ã‚ã‚‹æ›¸ãæ–¹ï¼ˆä½•ã§ã‚‚ã§ãã‚‹åˆ†ã€æ··ä¹±ã—ã‚„ã™ã„ï¼‰
          git checkout -b feature/xxx

        â–¼ ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆ
          git switch main
          git checkout main

        â–¼ ãªãœ switch ã‚’æ¨ã™ã®ï¼Ÿ
        checkout ã¯ã€Œãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆã€ã¨ã€Œãƒ•ã‚¡ã‚¤ãƒ«å¾©å…ƒã€ã‚‚å…¼ã­ã‚‹ãŸã‚ã€
        åˆå­¦è€…ãŒæ··ä¹±ã—ã‚„ã™ã„ã€‚
        ãƒ–ãƒ©ãƒ³ãƒä½œæ¥­ã¯ switch ã«å¯„ã›ã‚‹ã¨ç†è§£ãŒé€Ÿã„ã€‚
      TEXT
    },
    {
      seed_key: "dev.pr_check_min",
      category: dev,
      title: "æå‡ºå‰ã®ç¢ºèªï¼ˆæœ€å°ã‚»ãƒƒãƒˆï¼‰",
      body: <<~TEXT
        PRã‚’å‡ºã™å‰ã«ã€ã¾ãšã“ã‚Œã ã‘ã‚„ã‚Œã°OKã€‚

        â–¼ å·®åˆ†ç¢ºèª
          git status
          git diff

        â–¼ ãƒ†ã‚¹ãƒˆ
          bin/rails test

        â–¼ é™çš„è§£æï¼ˆå…¥ã‚Œã¦ã‚‹ãªã‚‰ï¼‰
          bundle exec rubocop

        â–¼ å¯èƒ½ãªã‚‰ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•ã—ã¦ç›®è¦–
          bin/rails s

        ç›®çš„ã¯ã€Œè½ã¡ã‚‹ã‚‚ã®ã‚’å…ˆã«æ½°ã™ã€ã€‚
        å°ã•ãç¢ºèªã—ã¦ã‹ã‚‰PRã‚’å‡ºã™ã¨ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒé€šã‚Šã‚„ã™ã„ã€‚
      TEXT
    },
    {
      seed_key: "dev.rubocop_a_A",
      category: dev,
      title: "è‡ªå‹•æ•´å½¢ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®é•ã„",
      body: <<~TEXT
        RuboCopã®è‡ªå‹•ä¿®æ­£ã¯ä¾¿åˆ©ã ã‘ã©ã€ä½¿ã„åˆ†ã‘ãŒå¤§äº‹ã€‚

        â–¼ å®‰å…¨ãªè‡ªå‹•ä¿®æ­£ã®ã¿ï¼ˆåŸºæœ¬ã“ã‚Œï¼‰
          bundle exec rubocop -a

        â–¼ ã‚ˆã‚Šå¼·ã„è‡ªå‹•ä¿®æ­£ï¼ˆæŒ™å‹•ãŒå¤‰ã‚ã‚‹ä¿®æ­£ã‚‚å«ã‚€ï¼‰
          bundle exec rubocop -A

        -A ã¯å¼·åŠ›ã ã‘ã©ã€æ„å›³ã—ãªã„å¤‰æ›´ãŒæ··ã–ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚
        ä½¿ã£ãŸå¾Œã¯å¿…ãš diff ã‚’è¦‹ã¦ç¢ºèªã—ã‚ˆã†ã€‚

          git diff
      TEXT
    },
    {
      seed_key: "dev.migrate_vs_seed",
      category: dev,
      title: "migrate ã¨ seed ã®é•ã„",
      body: <<~TEXT
        migrate ã¨ seed ã¯å½¹å‰²ãŒé•ã†ã€‚

        â–¼ migrateï¼šDBã®æ§‹é€ ã‚’å¤‰ãˆã‚‹ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«/ã‚«ãƒ©ãƒ ã®è¿½åŠ ãªã©ï¼‰
          bin/rails db:migrate

        â–¼ seedï¼šåˆæœŸãƒ‡ãƒ¼ã‚¿ã‚„ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ã™ã‚‹
          bin/rails db:seed

        åŸºæœ¬ã¯ã€Œæ§‹é€ ã‚’å¤‰ãˆãŸã‚‰ migrate â†’ å¿…è¦ãªã‚‰ seedã€ã€‚
      TEXT
    },
    {
      seed_key: "dev.binrails_vs_bundleexec",
      category: dev,
      title: "Railsã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œæ–¹æ³•ã®é•ã„",
      body: <<~TEXT
        çµè«–ï¼šæ™®æ®µã¯ bin/rails ã§OKã€‚

        â–¼ ã‚ˆãä½¿ã†
          bin/rails s
          bin/rails c
          bin/rails db:migrate
          bin/rails db:seed

        â–¼ bundle exec rails ã‚’ä½¿ã†å ´é¢ï¼ˆè€ƒãˆæ–¹ï¼‰
        Gemfileã®ç’°å¢ƒã‚’ç¢ºå®Ÿã«ä½¿ã„ãŸã„ã¨ãã€‚
        ãŸã ã— Rails ã® binstubï¼ˆbin/railsï¼‰ãŒã‚ã‚‹ãªã‚‰ã€
        ã ã„ãŸã„ bin/rails ãŒé¢å€’ã‚’è¦‹ã¦ãã‚Œã‚‹ã€‚

        è¿·ã£ãŸã‚‰ï¼š
        ã€Œbin/rails ã‚’åŸºæœ¬ã€ã€Œå›°ã£ãŸã‚‰ bundle execã€ã‚’è¦šãˆã‚Œã°OKã€‚
      TEXT
    },

    # -------------------------
    # ãƒ¢ãƒãƒ™
    # -------------------------
    {
      seed_key: "motiva.no_motivation",
      category: motiva,
      title: "ã‚„ã‚‹æ°—ãŒå‡ºãªã„æ—¥ã¯",
      body: <<~TEXT
        ã‚„ã‚‹æ°—ãŒå‡ºãªã„æ—¥ã¯
        ä½œæ¥­ã‚’ã¨ã«ã‹ãå°ã•ãã—ã‚ˆã†ã€‚

        ãƒ»5åˆ†ã ã‘è§¦ã‚‹
        ãƒ»1è¡Œã ã‘æ›¸ã
        ãƒ»1ã‚³ãƒŸãƒƒãƒˆã ã‘ã™ã‚‹

        0 â†’ 1 ãŒä½œã‚ŒãŸã‚‰å‹ã¡ã€‚
      TEXT
    }
  ]

  # =========================================================
  # Advice åæ˜ ï¼ˆseedç®¡ç†åˆ†ã ã‘åŒæœŸï¼‰
  # =========================================================

  current_seed_keys = advices.map { |a| a[:seed_key] }

  # seed_key ã‚’æŒã¤ãƒ¬ã‚³ãƒ¼ãƒ‰ã ã‘ã€Œä»Šå›ã®å®šç¾©ã«ãªã„ã‚‚ã®ã€ã‚’å‰Šé™¤
  puts "ğŸ§¹ Cleaning old seeded Advice..."
  Advice.where.not(seed_key: current_seed_keys).where.not(seed_key: nil).destroy_all

  # è¿½åŠ  or æ›´æ–°ï¼ˆseed_key ã§å›ºå®šï¼‰
  advices.each do |data|
    Advice.find_or_initialize_by(seed_key: data[:seed_key]).tap do |a|
      a.category = data[:category]
      a.title    = data[:title]
      a.body     = data[:body]
      a.save!
    end
  end
end

puts "ğŸŒ± seeds.rb completed: Advice & Category updated"
